{
  "info": {
    "_postman_id": "specflux-api-collection",
    "name": "SpecFlux API",
    "description": "REST API for SpecFlux - AI-Powered Multi-Repo Development Orchestrator.\n\n## Authentication\nAll API endpoints require Firebase JWT authentication. Use the \"1. Authentication\" folder to get a token first.\n\n## Usage\n1. Import this collection and the environment file\n2. Run \"Get Firebase Token\" to authenticate\n3. The token is automatically saved to the environment\n4. All other requests will use the token automatically",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8090/api"
    },
    {
      "key": "firebaseEmulatorHost",
      "value": "localhost:9099",
      "description": "Firebase Auth Emulator host:port"
    },
    {
      "key": "testEmail",
      "value": "dev@specflux.local",
      "description": "Test user email for Firebase Emulator"
    },
    {
      "key": "testPassword",
      "value": "devpass123",
      "description": "Test user password for Firebase Emulator"
    },
    {
      "key": "authToken",
      "value": "",
      "description": "Firebase ID token - populated by auth requests"
    },
    {
      "key": "refreshToken",
      "value": "",
      "description": "Firebase refresh token - populated by auth requests"
    },
    {
      "key": "projectRef",
      "value": "SPECFLUCMI",
      "description": "Project key or publicId"
    },
    {
      "key": "userRef",
      "value": "",
      "description": "User publicId - populated by Get Current User"
    },
    {
      "key": "epicRef",
      "value": "",
      "description": "Epic publicId - populated by List/Create Epic"
    },
    {
      "key": "prdRef",
      "value": "",
      "description": "PRD publicId - populated by List/Create PRD"
    },
    {
      "key": "prdDocId",
      "value": "",
      "description": "PRD Document ID - populated by Add Document"
    },
    {
      "key": "taskRef",
      "value": "",
      "description": "Task publicId - populated by List/Create Task"
    },
    {
      "key": "releaseRef",
      "value": "",
      "description": "Release publicId - populated by List/Create Release"
    }
  ],
  "item": [
    {
      "name": "1. Authentication",
      "description": "Firebase authentication flow. Run these first to get a token.",
      "item": [
        {
          "name": "Get Firebase Token (Emulator)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.idToken) {",
                  "        pm.environment.set('authToken', response.idToken);",
                  "        pm.environment.set('refreshToken', response.refreshToken);",
                  "        console.log('Token saved to environment');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"{{testPassword}}\",\n  \"returnSecureToken\": true\n}"
            },
            "url": {
              "raw": "http://{{firebaseEmulatorHost}}/identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=fake-api-key",
              "protocol": "http",
              "host": ["{{firebaseEmulatorHost}}"],
              "path": ["identitytoolkit.googleapis.com", "v1", "accounts:signInWithPassword"],
              "query": [
                {
                  "key": "key",
                  "value": "fake-api-key"
                }
              ]
            },
            "description": "Sign in with email/password using Firebase Emulator.\n\n**First Time Setup:**\n1. Create a test user in Firebase Emulator UI (http://localhost:4000/auth)\n2. Update `testEmail` and `testPassword` in the environment\n3. Run this request to get a token"
          }
        },
        {
          "name": "Create Test User (Emulator)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.idToken) {",
                  "        pm.environment.set('authToken', response.idToken);",
                  "        pm.environment.set('refreshToken', response.refreshToken);",
                  "        console.log('User created and token saved');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"{{testPassword}}\",\n  \"returnSecureToken\": true\n}"
            },
            "url": {
              "raw": "http://{{firebaseEmulatorHost}}/identitytoolkit.googleapis.com/v1/accounts:signUp?key=fake-api-key",
              "protocol": "http",
              "host": ["{{firebaseEmulatorHost}}"],
              "path": ["identitytoolkit.googleapis.com", "v1", "accounts:signUp"],
              "query": [
                {
                  "key": "key",
                  "value": "fake-api-key"
                }
              ]
            },
            "description": "Create a new test user in Firebase Emulator. Only needed once."
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.id_token) {",
                  "        pm.environment.set('authToken', response.id_token);",
                  "        pm.environment.set('refreshToken', response.refresh_token);",
                  "        console.log('Token refreshed');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"grant_type\": \"refresh_token\",\n  \"refresh_token\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "http://{{firebaseEmulatorHost}}/securetoken.googleapis.com/v1/token?key=fake-api-key",
              "protocol": "http",
              "host": ["{{firebaseEmulatorHost}}"],
              "path": ["securetoken.googleapis.com", "v1", "token"],
              "query": [
                {
                  "key": "key",
                  "value": "fake-api-key"
                }
              ]
            },
            "description": "Refresh an expired ID token using the refresh token."
          }
        }
      ]
    },
    {
      "name": "2. User Profile",
      "description": "User profile management - get current user, update profile, lookup users.",
      "item": [
        {
          "name": "Get Current User (Me)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.publicId) {",
                  "        pm.environment.set('userRef', response.publicId);",
                  "        console.log('Saved userRef:', response.publicId);",
                  "    }",
                  "    pm.test('User has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^usr_/);",
                  "    });",
                  "    pm.test('User has email', function() {",
                  "        pm.expect(response.email).to.be.a('string');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Get the currently authenticated user's profile.\n\nThis endpoint auto-provisions the user on first call - if the user doesn't exist in the database, it creates them from the Firebase token claims.\n\n**Auto-saves:** `userRef` variable for use in other requests."
          }
        },
        {
          "name": "Update Current User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"displayName\": \"John Doe\",\n  \"avatarUrl\": \"https://example.com/avatar.png\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            },
            "description": "Update the current user's display name and/or avatar URL.\n\nBoth fields are optional - only provided fields will be updated."
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userRef}}"]
            },
            "description": "Look up a user by their public ID.\n\nUses `userRef` from \"Get Current User\" response. Run that request first to populate the variable."
          }
        }
      ]
    },
    {
      "name": "3. Projects",
      "description": "Project management - create, list, update, delete projects.",
      "item": [
        {
          "name": "List Projects",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        const firstProject = response.data[0];",
                  "        pm.environment.set('projectRef', firstProject.projectKey || firstProject.publicId);",
                  "        console.log('Saved projectRef:', firstProject.projectKey || firstProject.publicId);",
                  "    }",
                  "    pm.test('Response has data array', function() {",
                  "        pm.expect(response.data).to.be.an('array');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects?limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["projects"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "cursor",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "List all projects for the current user.\n\n**Auto-saves:** First project's `projectKey` to `projectRef` variable."
          }
        },
        {
          "name": "Create Project",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.projectKey || response.publicId) {",
                  "        pm.environment.set('projectRef', response.projectKey || response.publicId);",
                  "        console.log('Saved projectRef:', response.projectKey || response.publicId);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"projectKey\": \"SPEC\",\n  \"name\": \"SpecFlux\",\n  \"description\": \"AI-Powered Multi-Repo Development Orchestrator\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects",
              "host": ["{{baseUrl}}"],
              "path": ["projects"]
            },
            "description": "Create a new project.\n\n- `projectKey`: Unique identifier (uppercase, 2-10 chars)\n- `name`: Display name\n- `description`: Optional description\n\n**Auto-saves:** `projectRef` variable."
          }
        },
        {
          "name": "Get Project",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}"]
            },
            "description": "Get a project by its key or public ID.\n\nUses `projectRef` from List/Create response."
          }
        },
        {
          "name": "Update Project",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"SpecFlux Updated\",\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}"]
            },
            "description": "Update a project's name and/or description."
          }
        },
        {
          "name": "Delete Project",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}"]
            },
            "description": "Delete a project."
          }
        }
      ]
    },
    {
      "name": "4. PRDs",
      "description": "Product Requirements Documents - create, list, update, delete PRDs and their supporting documents.",
      "item": [
        {
          "name": "List PRDs",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        const firstPrd = response.data[0];",
                  "        pm.environment.set('prdRef', firstPrd.id);",
                  "        console.log('Saved prdRef:', firstPrd.id);",
                  "    }",
                  "    pm.test('Response has data array', function() {",
                  "        pm.expect(response.data).to.be.an('array');",
                  "    });",
                  "    pm.test('PRDs have id', function() {",
                  "        if (response.data.length > 0) {",
                  "            pm.expect(response.data[0].id).to.match(/^prd_/);",
                  "        }",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds?limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "cursor",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "List all PRDs for a project.\n\n**Query Parameters:**\n- `limit`: Max results (default 20, max 100)\n- `cursor`: Pagination cursor\n- `status`: Filter by status (DRAFT, IN_REVIEW, APPROVED, ARCHIVED)\n\n**Auto-saves:** First PRD's `id` to `prdRef` variable."
          }
        },
        {
          "name": "Get PRD",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.test('PRD has id', function() {",
                  "        pm.expect(response.id).to.match(/^prd_/);",
                  "    });",
                  "    pm.test('PRD has title', function() {",
                  "        pm.expect(response.title).to.be.a('string');",
                  "    });",
                  "    pm.test('PRD has documents array', function() {",
                  "        pm.expect(response.documents).to.be.an('array');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds/{{prdRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds", "{{prdRef}}"]
            },
            "description": "Get a PRD by its public ID or display key.\n\nUses `prdRef` from List PRDs response."
          }
        },
        {
          "name": "Create PRD",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.id) {",
                  "        pm.environment.set('prdRef', response.id);",
                  "        console.log('Saved prdRef:', response.id);",
                  "    }",
                  "    pm.test('PRD has id', function() {",
                  "        pm.expect(response.id).to.match(/^prd_/);",
                  "    });",
                  "    pm.test('PRD has folderPath', function() {",
                  "        pm.expect(response.folderPath).to.include('.specflux/prds/');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Authentication System\",\n  \"description\": \"User authentication with OAuth2 and social login\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds"]
            },
            "description": "Create a new PRD in a project.\n\n**Required:**\n- `title`: PRD title\n\n**Optional:**\n- `description`: PRD description\n- `folderPath`: Custom folder path (auto-generated if not provided)\n\n**Auto-saves:** `prdRef` variable.\n\n**Note:** PRD is created with DRAFT status. Use Update PRD to change status."
          }
        },
        {
          "name": "Update PRD",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Authentication System - Updated\",\n  \"description\": \"Updated description\",\n  \"status\": \"IN_REVIEW\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds/{{prdRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds", "{{prdRef}}"]
            },
            "description": "Update a PRD's properties.\n\n**Optional fields:**\n- `title`: PRD title\n- `description`: PRD description\n- `status`: DRAFT, IN_REVIEW, APPROVED, ARCHIVED\n\nAll fields are optional - only provided fields will be updated."
          }
        },
        {
          "name": "Delete PRD",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds/{{prdRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds", "{{prdRef}}"]
            },
            "description": "Delete a PRD and all its documents.\n\n**Warning:** This also removes the PRD reference from any linked epics."
          }
        },
        {
          "name": "Add Document to PRD",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.documents && response.documents.length > 0) {",
                  "        const lastDoc = response.documents[response.documents.length - 1];",
                  "        pm.environment.set('prdDocId', lastDoc.id);",
                  "        console.log('Saved prdDocId:', lastDoc.id);",
                  "    }",
                  "    pm.test('PRD has documents', function() {",
                  "        pm.expect(response.documents).to.be.an('array');",
                  "        pm.expect(response.documents.length).to.be.greaterThan(0);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fileName\": \"prd.md\",\n  \"filePath\": \".specflux/prds/auth-system/prd.md\",\n  \"documentType\": \"PRD\",\n  \"isPrimary\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds/{{prdRef}}/documents",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds", "{{prdRef}}", "documents"]
            },
            "description": "Add a document to a PRD.\n\n**Required:**\n- `fileName`: File name (e.g., \"prd.md\")\n- `filePath`: Full path relative to project root\n\n**Optional:**\n- `documentType`: PRD, WIREFRAME, MOCKUP, DESIGN, OTHER (default: OTHER)\n- `isPrimary`: Whether this is the main PRD document (default: false)\n- `orderIndex`: Display order (auto-incremented if not provided)\n\n**Auto-saves:** `prdDocId` variable."
          }
        },
        {
          "name": "Update Document",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentType\": \"WIREFRAME\",\n  \"isPrimary\": false,\n  \"orderIndex\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds/{{prdRef}}/documents/{{prdDocId}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds", "{{prdRef}}", "documents", "{{prdDocId}}"]
            },
            "description": "Update a document's metadata.\n\n**Optional fields:**\n- `documentType`: PRD, WIREFRAME, MOCKUP, DESIGN, OTHER\n- `isPrimary`: Whether this is the main PRD document\n- `orderIndex`: Display order\n\nAll fields are optional - only provided fields will be updated."
          }
        },
        {
          "name": "Delete Document",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/prds/{{prdRef}}/documents/{{prdDocId}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "prds", "{{prdRef}}", "documents", "{{prdDocId}}"]
            },
            "description": "Delete a document from a PRD.\n\n**Note:** This only removes the document reference, not the actual file."
          }
        }
      ]
    },
    {
      "name": "5. Epics",
      "description": "Epic management - list, create, update, delete epics within a project. Epics can be linked to PRDs.",
      "item": [
        {
          "name": "List Epics",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        const firstEpic = response.data[0];",
                  "        pm.environment.set('epicRef', firstEpic.publicId);",
                  "        console.log('Saved epicRef:', firstEpic.publicId);",
                  "    }",
                  "    pm.test('Response has data array', function() {",
                  "        pm.expect(response.data).to.be.an('array');",
                  "    });",
                  "    pm.test('Epics have publicId', function() {",
                  "        if (response.data.length > 0) {",
                  "            pm.expect(response.data[0].publicId).to.match(/^epic_/);",
                  "        }",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/epics?limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "epics"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "cursor",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "releaseRef",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "List all epics for a project.\n\n**Query Parameters:**\n- `limit`: Max results (default 20, max 100)\n- `cursor`: Pagination cursor\n- `status`: Filter by status (DRAFT, IN_PROGRESS, etc.)\n- `releaseRef`: Filter by release publicId\n\n**Auto-saves:** First epic's `publicId` to `epicRef` variable."
          }
        },
        {
          "name": "Get Epic",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Epic has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^epic_/);",
                  "    });",
                  "    pm.test('Epic has title', function() {",
                  "        pm.expect(response.title).to.be.a('string');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/epics/{{epicRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "epics", "{{epicRef}}"]
            },
            "description": "Get an epic by its public ID.\n\nUses `epicRef` from List Epics response."
          }
        },
        {
          "name": "Create Epic",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.publicId) {",
                  "        pm.environment.set('epicRef', response.publicId);",
                  "        console.log('Saved epicRef:', response.publicId);",
                  "    }",
                  "    pm.test('Epic has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^epic_/);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"User Authentication\",\n  \"description\": \"Implement complete user authentication flow\",\n  \"status\": \"DRAFT\",\n  \"priority\": \"HIGH\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/epics",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "epics"]
            },
            "description": "Create a new epic in a project.\n\n**Required:**\n- `title`: Epic title\n\n**Optional:**\n- `description`: Epic description\n- `status`: DRAFT, IN_PROGRESS, REVIEW, DONE\n- `priority`: LOW, MEDIUM, HIGH, CRITICAL\n- `releaseRef`: Release to assign epic to\n\n**Auto-saves:** `epicRef` variable."
          }
        },
        {
          "name": "Update Epic",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"User Authentication - Updated\",\n  \"status\": \"IN_PROGRESS\",\n  \"priority\": \"CRITICAL\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/epics/{{epicRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "epics", "{{epicRef}}"]
            },
            "description": "Update an epic's properties.\n\nAll fields are optional - only provided fields will be updated."
          }
        },
        {
          "name": "Delete Epic",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/epics/{{epicRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "epics", "{{epicRef}}"]
            },
            "description": "Delete an epic.\n\n**Warning:** This may also delete associated tasks depending on cascade settings."
          }
        }
      ]
    },
    {
      "name": "6. Tasks",
      "description": "Task management - list, create, update, delete tasks within a project.",
      "item": [
        {
          "name": "List Tasks",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        const firstTask = response.data[0];",
                  "        pm.environment.set('taskRef', firstTask.publicId);",
                  "        console.log('Saved taskRef:', firstTask.publicId);",
                  "    }",
                  "    pm.test('Response has data array', function() {",
                  "        pm.expect(response.data).to.be.an('array');",
                  "    });",
                  "    pm.test('Tasks have publicId', function() {",
                  "        if (response.data.length > 0) {",
                  "            pm.expect(response.data[0].publicId).to.match(/^task_/);",
                  "        }",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/tasks?limit=50",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "tasks"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "cursor",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "epicRef",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "List all tasks for a project.\n\n**Query Parameters:**\n- `limit`: Max results (default 20, max 100)\n- `cursor`: Pagination cursor\n- `status`: Filter by status (BACKLOG, TODO, IN_PROGRESS, etc.)\n- `epicRef`: Filter by epic publicId\n\n**Auto-saves:** First task's `publicId` to `taskRef` variable."
          }
        },
        {
          "name": "Get Task",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Task has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^task_/);",
                  "    });",
                  "    pm.test('Task has title', function() {",
                  "        pm.expect(response.title).to.be.a('string');",
                  "    });",
                  "    pm.test('Task has status', function() {",
                  "        pm.expect(response.status).to.be.a('string');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/tasks/{{taskRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "tasks", "{{taskRef}}"]
            },
            "description": "Get a task by its public ID.\n\nUses `taskRef` from List Tasks response."
          }
        },
        {
          "name": "Create Task",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.publicId) {",
                  "        pm.environment.set('taskRef', response.publicId);",
                  "        console.log('Saved taskRef:', response.publicId);",
                  "    }",
                  "    pm.test('Task has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^task_/);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Implement login form\",\n  \"description\": \"Create React login form with email/password fields\",\n  \"status\": \"BACKLOG\",\n  \"epicRef\": \"{{epicRef}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/tasks",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "tasks"]
            },
            "description": "Create a new task in a project.\n\n**Required:**\n- `title`: Task title\n\n**Optional:**\n- `description`: Task description\n- `status`: BACKLOG, TODO, IN_PROGRESS, IN_REVIEW, DONE\n- `epicRef`: Epic to assign task to\n- `requiresApproval`: Whether task needs approval before completion\n- `estimatedDuration`: Estimated time (e.g., \"2h\", \"3d\")\n\n**Auto-saves:** `taskRef` variable."
          }
        },
        {
          "name": "Update Task",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Implement login form - Updated\",\n  \"status\": \"IN_PROGRESS\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/tasks/{{taskRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "tasks", "{{taskRef}}"]
            },
            "description": "Update a task's properties.\n\nAll fields are optional - only provided fields will be updated."
          }
        },
        {
          "name": "Delete Task",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/tasks/{{taskRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "tasks", "{{taskRef}}"]
            },
            "description": "Delete a task."
          }
        }
      ]
    },
    {
      "name": "7. Releases",
      "description": "Release management - list, create, update, delete releases within a project.",
      "item": [
        {
          "name": "List Releases",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        const firstRelease = response.data[0];",
                  "        pm.environment.set('releaseRef', firstRelease.publicId);",
                  "        console.log('Saved releaseRef:', firstRelease.publicId);",
                  "    }",
                  "    pm.test('Response has data array', function() {",
                  "        pm.expect(response.data).to.be.an('array');",
                  "    });",
                  "    pm.test('Releases have publicId', function() {",
                  "        if (response.data.length > 0) {",
                  "            pm.expect(response.data[0].publicId).to.match(/^rel_/);",
                  "        }",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/releases?limit=20",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "releases"],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "cursor",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "List all releases for a project.\n\n**Query Parameters:**\n- `limit`: Max results (default 20, max 100)\n- `cursor`: Pagination cursor\n- `status`: Filter by status (PLANNED, IN_PROGRESS, RELEASED)\n\n**Auto-saves:** First release's `publicId` to `releaseRef` variable."
          }
        },
        {
          "name": "Get Release",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.test('Release has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^rel_/);",
                  "    });",
                  "    pm.test('Release has name', function() {",
                  "        pm.expect(response.name).to.be.a('string');",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/releases/{{releaseRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "releases", "{{releaseRef}}"]
            },
            "description": "Get a release by its public ID.\n\nUses `releaseRef` from List Releases response."
          }
        },
        {
          "name": "Create Release",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.publicId) {",
                  "        pm.environment.set('releaseRef', response.publicId);",
                  "        console.log('Saved releaseRef:', response.publicId);",
                  "    }",
                  "    pm.test('Release has publicId', function() {",
                  "        pm.expect(response.publicId).to.match(/^rel_/);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"v1.0.0\",\n  \"description\": \"Initial release with core features\",\n  \"status\": \"PLANNED\",\n  \"targetDate\": \"2025-03-01\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/releases",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "releases"]
            },
            "description": "Create a new release in a project.\n\n**Required:**\n- `name`: Release name/version\n\n**Optional:**\n- `description`: Release description\n- `status`: PLANNED, IN_PROGRESS, RELEASED\n- `targetDate`: Target release date (ISO 8601)\n\n**Auto-saves:** `releaseRef` variable."
          }
        },
        {
          "name": "Update Release",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"v1.0.0-rc1\",\n  \"status\": \"IN_PROGRESS\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/releases/{{releaseRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "releases", "{{releaseRef}}"]
            },
            "description": "Update a release's properties.\n\nAll fields are optional - only provided fields will be updated."
          }
        },
        {
          "name": "Delete Release",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/projects/{{projectRef}}/releases/{{releaseRef}}",
              "host": ["{{baseUrl}}"],
              "path": ["projects", "{{projectRef}}", "releases", "{{releaseRef}}"]
            },
            "description": "Delete a release.\n\n**Note:** Epics assigned to this release will have their release reference cleared."
          }
        }
      ]
    }
  ]
}
