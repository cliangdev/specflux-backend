spring:
  application:
    name: specflux
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  flyway:
    enabled: true
    locations: classpath:db/migration

server:
  port: ${SERVER_PORT:8080}

# Actuator endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when_authorized

# OpenAPI / Springdoc - serve static api.yaml as the source of truth
springdoc:
  api-docs:
    path: /api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    url: /openapi/api.yaml
    display-request-duration: true
    filter: true
    tags-sorter: alpha
    operations-sorter: method
    doc-expansion: list
    default-models-expand-depth: 2
    show-extensions: true
    try-it-out-enabled: true

# Firebase Authentication
firebase:
  enabled: ${FIREBASE_ENABLED:true}
  config-path: ${FIREBASE_CONFIG_PATH:}
  emulator:
    enabled: ${FIREBASE_EMULATOR_ENABLED:false}
    host: ${FIREBASE_AUTH_EMULATOR_HOST:localhost:9099}

# GitHub App Integration
github:
  app:
    id: ${GITHUB_APP_ID:}
    client-id: ${GITHUB_CLIENT_ID:}
    client-secret: ${GITHUB_CLIENT_SECRET:}
    redirect-uri: ${GITHUB_REDIRECT_URI:http://localhost:8090/api/github/callback}

# SpecFlux Frontend
specflux:
  frontend:
    url: ${SPECFLUX_FRONTEND_URL:http://localhost:5173}
