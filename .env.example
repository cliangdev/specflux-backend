# SpecFlux Backend - Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# Server Configuration
# =============================================================================

# Server port (default: 8090 for dev, 8080 for production)
SERVER_PORT=8090

# Active Spring profile: dev, test, staging, prod
SPRING_PROFILES_ACTIVE=dev

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================

# Database connection URL
# For local Docker: jdbc:postgresql://localhost:5432/specflux
# For production: use your cloud PostgreSQL URL
DATABASE_URL=jdbc:postgresql://localhost:5432/specflux

# Database credentials
DATABASE_USERNAME=specflux
DATABASE_PASSWORD=specflux

# =============================================================================
# Firebase Authentication
# =============================================================================

# Enable/disable Firebase authentication (default: true)
FIREBASE_ENABLED=true

# Path to Firebase service account JSON file
# Required for production. Download from Firebase Console > Project Settings > Service Accounts
FIREBASE_CONFIG_PATH=/path/to/firebase-service-account.json

# =============================================================================
# Firebase Emulator (Development Only)
# =============================================================================

# Enable Firebase emulator for local development
FIREBASE_EMULATOR_ENABLED=true

# Firebase Auth emulator host
FIREBASE_AUTH_EMULATOR_HOST=localhost:9099

# =============================================================================
# Google Cloud (Production Only)
# =============================================================================

# Path to GCP service account credentials (if not using FIREBASE_CONFIG_PATH)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/gcp-credentials.json

# GCP Project ID
# GOOGLE_CLOUD_PROJECT=your-project-id

# =============================================================================
# GitHub Integration
# =============================================================================
# Two credential types are supported:
# 1. OAuth App (RECOMMENDED) - Enables repo creation with `repo` scope
# 2. GitHub App - Fine-grained permissions, but cannot create user repos
#
# If both are configured, OAuth App takes precedence for the OAuth flow.

# -----------------------------------------------------------------------------
# Option 1: OAuth App (recommended - enables "Create New" repository)
# -----------------------------------------------------------------------------
# Create at: https://github.com/settings/developers > OAuth Apps > New OAuth App
# Client ID starts with "Ov23li"

GITHUB_OAUTH_CLIENT_ID=Ov23liXXXXXXXXXXXX
GITHUB_OAUTH_CLIENT_SECRET=your_oauth_client_secret_here

# -----------------------------------------------------------------------------
# Option 2: GitHub App (alternative - cannot create user repositories)
# -----------------------------------------------------------------------------
# Create at: https://github.com/settings/apps > New GitHub App
# Client ID starts with "Iv1." or "Iv23"

# GITHUB_APP_ID=123456
# GITHUB_APP_CLIENT_ID=Iv1.abc123def456
# GITHUB_APP_CLIENT_SECRET=your_app_client_secret_here

# -----------------------------------------------------------------------------
# Shared: OAuth Callback URL (required for both options)
# -----------------------------------------------------------------------------
# Must match the callback URL registered in your GitHub App/OAuth App settings
# Local:   http://localhost:8090/api/github/callback
# Staging: https://specflux-backend-staging.a.run.app/api/github/callback

GITHUB_REDIRECT_URI=http://localhost:8090/api/github/callback

# =============================================================================
# SpecFlux Frontend URL
# =============================================================================

# Frontend URL for OAuth redirects after GitHub connection
# Local:   http://localhost:5173
# Staging: https://staging.specflux.dev
SPECFLUX_FRONTEND_URL=http://localhost:5173
